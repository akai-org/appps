---
import { getLangFromUrl, getNextLang, useTranslations } from "@i18n/utils";
import { getRelativeLocaleUrl } from 'astro:i18n';

const currentLang = getLangFromUrl(Astro.url) as string;
const translate = useTranslations(currentLang);

const currentPathname = Astro.url.pathname;
const nextPathname = currentPathname.slice(4, currentPathname.length);
const translatedURL = new URL(`/${getNextLang(currentLang)}/${nextPathname}`, Astro.url.origin);
---
<header class="flex items-center justify-between p-2 sm:px-10 sm:py-3">
  <h1 class="flex items-center gap-10 text-5xl">
    <a href="/" class="flex items-center gap-2 font-bold">
      <svg
        version="1.1"
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        x="0px"
        y="0px"
        class="w-16"
        viewBox="0 0 189.211 211.778"
        enable-background="new 0 0 189.211 211.778"
        xml:space="preserve"
      >
        <g>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            fill="#FAA21B"
            d="M45.2,21.895c24.751,0,44.853,19.896,45.192,44.566H90.4v0.634
		v45.2H45.2h-0.517v-0.006C19.958,112.011,0,91.886,0,67.095C0,42.131,20.237,21.895,45.2,21.895L45.2,21.895z M45.102,40.259
		c-14.447,0-26.159,12.015-26.159,26.835c0,14.718,11.55,26.667,25.86,26.832v0.003h0.299h26.159V67.095v-0.376h-0.005
		C71.06,52.071,59.426,40.259,45.102,40.259z"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            class="fill-[#001936] dark:fill-white"
            d="M45.2,210.766c24.751,0,44.853-19.896,45.192-44.566H90.4v-0.634
		v-45.2H45.2h-0.517v0.006C19.958,120.65,0,140.775,0,165.566C0,190.528,20.237,210.766,45.2,210.766L45.2,210.766z M45.102,192.401
		c-14.447,0-26.159-12.015-26.159-26.835c0-14.718,11.55-26.667,25.86-26.832v-0.003h0.299h26.159v26.835v0.376h-0.005
		C71.06,180.589,59.426,192.401,45.102,192.401z"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            class="fill-[#001936] dark:fill-white"
            d="M98.542,0.008c9-0.204,17.93,3.545,19.049,20.216v38.209h28.107
		c19.462-0.382,25.341-20.076,24.511-35.74h18.93c0.93,25.328-7.374,37.651-18.424,44.506c11.051,6.855,19.354,19.178,18.424,44.506
		h-18.93c0.92-17.349-2.17-30.688-23.86-35.727l-28.759,0.162v18.261c-7.856,0.787-10.332,0.971-19.049,9.653V0.008z"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            fill="#FAA21B"
            d="M117.863,117.782v-17.263c-9.81,0-17.839,7.62-18.496,17.263
		l-0.044,1.276v17.263c9.81,0,17.839-7.62,18.495-17.263L117.863,117.782z"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            class="fill-[#001936] dark:fill-white"
            d="M170.043,120.958h18.579l-0.031,36.897
		c-0.656,9.644-8.686,17.263-18.496,17.263v-17.263L170.043,120.958z"
          ></path>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            class="fill-[#001936] dark:fill-white"
            d="M99.522,142.71c8.802-0.187,15.365-4.473,18.577-9.317
		l-0.031,61.122c-0.656,9.644-8.686,17.263-18.496,17.263v-17.263L99.522,142.71z"
          ></path>
        </g>
      </svg>Apps</a
    >
    <p class="hidden text-lg font-light md:block">
      {translate("header.title")}
    </p>
  </h1>
  <div class="flex items-center">
  <a href={translatedURL} class=" underline font-bold">{getNextLang(currentLang).toUpperCase()}</a>
  <button
    id="themeToggle"
    class="rounded-lg px-3 py-2 text-black"
    >
    <div id="themeLight" class="">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
        <path d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z" />
      </svg>      
    </div>
    <div id="themeDark" class=" invert">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
        <path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd" />
      </svg>      
    </div>
    </button
  >
</div>
</header>
